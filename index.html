<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„äº’å‹•éŠæˆ²å¤§å»³</title>
    <style>
        /* ä½¿ç”¨åœ“æ½¤çš„å­—é«”ï¼Œæ¸›å°‘è¦–è¦ºå£“åŠ› */
        body { 
            font-family: "jf-open-huninn", "Microsoft JhengHei", sans-serif; 
            padding: 20px; 
            background-color: #fff9f0; 
            color: #444;
            text-align: center;
        }
        
        /* éŸ³æ¨‚åˆ‡æ›æŒ‰éˆ• */
        #music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ffb74d;
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            font-size: 26px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }
        #music-control:hover { transform: scale(1.1); }

        /* æ™‚å…‰å¸ƒå‘Šæ¬„ */
        #clock-container {
            background-color: #ffffff;
            border: 3px dashed #ffb74d;
            border-radius: 20px;
            display: inline-block;
            padding: 15px 40px;
            margin-bottom: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        #date-display { font-size: 1.3rem; color: #666; margin-bottom: 5px; }
        #time-display { font-size: 2.8rem; color: #ff8c00; font-weight: bold; }

        /* éš¨æ©Ÿé¼“å‹µèª */
        #encouragement-text {
            font-size: 1.6rem;
            color: #e67e22;
            font-weight: bold;
            margin-bottom: 40px;
            min-height: 1.8em;
            text-shadow: 1px 1px 0px white;
        }

        h1 { color: #ff8c00; font-size: 2.5em; margin-bottom: 30px; letter-spacing: 2px; }
        
        /* éŠæˆ²å¡ç‰‡ä½ˆå±€ */
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); 
            gap: 30px; 
            max-width: 1200px;
            margin: 0 auto;
        }

        .card { 
            display: block;
            background: white;
            border-radius: 25px; 
            text-decoration: none; 
            color: #333;
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 4px solid white;
            overflow: hidden;
            position: relative;
        }

        .card:hover { 
            transform: scale(1.05) rotate(1.5deg); 
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        /* é è¦½åœ–å€åŸŸ */
        .card-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4.5em;
        }

        .card-content { padding: 25px 20px; }
        .card h3 { margin: 0 0 10px 0; font-size: 1.5em; color: #222; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .card p { font-size: 1.05em; color: #777; margin: 0; line-height: 1.4; }

        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 600px) {
            h1 { font-size: 1.8em; }
            #time-display { font-size: 2.2rem; }
        }
    </style>
</head>
<body>

    <button id="music-control" onclick="toggleMusic()" title="åˆ‡æ›èƒŒæ™¯éŸ³æ¨‚">ğŸµ</button>
    <audio id="bg-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <div id="clock-container">
        <div id="date-display">æ­£åœ¨ç¢ºèªæ—¥æœŸ...</div>
        <div id="time-display">00:00:00</div>
    </div>

    <div id="encouragement-text">âœ¨ æº–å‚™å¥½è¦é–‹å§‹å­¸ç¿’äº†å—ï¼Ÿ âœ¨</div>

    <h1>ğŸ¾ æˆ‘çš„äº’å‹•æ•™å­¸å¤§å»³ ğŸ¾</h1>
    
    <div id="project-list" class="grid">
        </div>

    <script>
        // 1. éŸ³æ¨‚æ’­æ”¾æ§åˆ¶
        const music = document.getElementById('bg-music');
        const musicBtn = document.getElementById('music-control');
        function toggleMusic() {
            if (music.paused) {
                music.play();
                musicBtn.innerText = 'â¸ï¸';
            } else {
                music.pause();
                musicBtn.innerText = 'ğŸµ';
            }
        }

        // 2. æ™‚é˜èˆ‡æ—¥æœŸæ›´æ–°
        function updateClock() {
            const now = new Date();
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            document.getElementById('date-display').innerText = now.toLocaleDateString('zh-TW', dateOptions);
            document.getElementById('time-display').innerText = now.toLocaleTimeString('zh-TW', { hour12: false });
        }
        setInterval(updateClock, 1000);
        updateClock();

        // 3. éš¨æ©Ÿé¼“å‹µèª (åŒ…å«é˜¿ç™½ã€åœŸåœŸèˆ‡æµ£ç†Š)
        const magicPhrases = [
            "âœ¨ ä»Šå¤©çš„ä½ ï¼Œä¹Ÿæœƒæœ‰è¶…æ£’çš„è¡¨ç¾å–”ï¼",
            "ğŸ° é˜¿ç™½å’ŒåœŸåœŸä¹Ÿåœ¨å¹«ä½ åŠ æ²¹æ‰“æ°£å–”ï¼",
            "ğŸŒŸ æ¯ä¸€æ¬¡çš„ç·´ç¿’ï¼Œéƒ½æ˜¯åœ¨è®“è‡ªå·±è®Šå¾—æ›´å¼·å¤§ï¼",
            "ğŸŒˆ æº–å‚™å¥½è·Ÿæµ£ç†Šä¸€èµ·æ¢ç´¢æ–°çš„çŸ¥è­˜äº†å—ï¼Ÿ",
            "ğŸ’ª åŠ æ²¹ï¼ä½ æ˜¯æœ€æ£’çš„å­¸ç¿’å°è¶…äººï¼",
            "ğŸ¨ ä»Šå¤©çš„å­¸ç¿’ï¼Œå°±åƒç•«ç•«ä¸€æ¨£ç¹½ç´›æœ‰è¶£ï¼",
            "ğŸ å–å£æ°´ã€ä¼¸å€‹æ‡¶è…°ï¼Œæˆ‘å€‘ä¸€èµ·é–‹å§‹å§ï¼",
            "ğŸ¢ æ…¢æ…¢ä¾†ï¼Œæ¯”è¼ƒå¿«ï¼Œæˆ‘å€‘ä¸€èµ·ç©©ç©©åœ°å‰é€²ï¼"
        ];
        function showRandomPhrase() {
            const phraseElement = document.getElementById('encouragement-text');
            const randomIndex = Math.floor(Math.random() * magicPhrases.length);
            phraseElement.innerText = magicPhrases[randomIndex];
        }
        showRandomPhrase();

        // 4. å¤–éƒ¨èª²ç¨‹æ¸…å–® (Canva & Classkick)
        const externalProjects = [
            {
                name: 'Canva äº’å‹•èª²ç¨‹',
                description: 'é»æ“Šé–‹å§‹ Canva æ•™å­¸ç·´ç¿’',
                url: 'https://www.canva.com/design/DAG-uatWjDI/LxRBHSKEZGycu1bAeAM8tQ/view?utm_content=DAG-uatWjDI&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h928823834f',
                emoji: 'ğŸ¨'
            },
            {
                name: 'Classkick èª²ä¸­ç·´ç¿’',
                description: 'é€²å…¥ Classkick å®Œæˆä»Šå¤©çš„ç·´ç¿’é¡Œå§ï¼',
                url: 'é€™è£¡è²¼ä¸Šå¦³çš„Classkickåˆ†æ´¾é€£çµ', 
                emoji: 'ğŸ“'
            }
        ];

        const animals = ['ğŸ¶', 'ğŸ±', 'ğŸ°', 'ğŸ¦Š', 'ğŸ»', 'ğŸ¼', 'ğŸ¨', 'ğŸ¦', 'ğŸ®', 'ğŸ·', 'ğŸ¸', 'ğŸ™'];
        const colors = ['#FFD1DC', '#FFECB3', '#C8E6C9', '#B3E5FC', '#D1C4E9', '#F8BBD0', '#E1BEE7', '#CFD8DC'];

        // 5. æŠ“å– GitHub å°ˆæ¡ˆä¸¦ç”Ÿæˆå¡ç‰‡
        async function fetchMyProjects() {
            const username = 'marypingu213-code'; 
            const container = document.getElementById('project-list');
            
            // æ¸²æŸ“å¤–éƒ¨å°ˆæ¡ˆ
            externalProjects.forEach((item, index) => {
                const color = colors[index % colors.length];
                container.appendChild(createCard(item.name, item.description, item.url, item.emoji, color, ''));
            });

            // æ¸²æŸ“ GitHub å°ˆæ¡ˆ
            try {
                const response = await fetch(`https://api.github.com/users/${username}/repos`);
                const repos = await response.json();
                
                repos.forEach((repo, index) => {
                    // æ’é™¤å¤§å»³å°ˆæ¡ˆæœ¬èº«
                    const isPortal = repo.name === 'web-portal' || repo.name === 'marypingu213-code.github.io';
                    
                    if (repo.has_pages && !isPortal) { 
                        const link = `https://${username}.github.io/${repo.name}`;
                        const randomEmoji = animals[Math.floor(Math.random() * animals.length)];
                        const colorIndex = (index + externalProjects.length) % colors.length;
                        
                        // è‡ªå‹•ç”Ÿæˆ GitHub é è¦½åœ–é€£çµ
                        const previewImg = `https://opengraph.githubassets.com/1/${username}/${repo.name}`;
                        
                        container.appendChild(createCard(repo.repo_name_pretty || repo.name, 'é»æ“Šé–‹å§‹å­¸ç¿’å§ï¼', link, randomEmoji, colors[colorIndex], previewImg));
                    }
                });
            } catch (error) {
                console.error('è³‡æ–™æŠ“å–å¤±æ•—:', error);
            }
        }

        // 6. å»ºç«‹å¡ç‰‡çš„è¼”åŠ©å‡½å¼
        function createCard(title, desc, link, emoji, color, imgSrc) {
            const card = document.createElement('a');
            card.href = link;
            card.className = 'card';
            card.target = '_blank';
            
            // è™•ç†åœ–ç‰‡è¼‰å…¥å¤±æ•—çš„æƒ…æ³ (è‡ªå‹•åˆ‡æ›å› Emoji)
            const mediaHtml = imgSrc 
                ? `<img src="${imgSrc}" class="card-image" alt="${title}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">`
                : '';
            
            const emojiHtml = `<div class="card-image" style="background-color: ${color}">${emoji}</div>`;

            card.innerHTML = `
                ${mediaHtml}
                ${imgSrc ? emojiHtml.replace('display:flex', 'display:none') : emojiHtml}
                <div class="card-content">
                    <h3>${title}</h3>
                    <p>${desc}</p>
                </div>
            `;
            return card;
        }

        fetchMyProjects();
    </script>
</body>
</html>
